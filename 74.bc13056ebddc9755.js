"use strict";(self.webpackChunkbases=self.webpackChunkbases||[]).push([[74],{8074:(lt,m,i)=>{i.r(m),i.d(m,{CountriesModule:()=>ct});var s=i(4755),l=i(4660),t=i(3020),x=i(9693);let A=(()=>{class n{constructor(){this.basePath="/countries/main",this.paths=[{name:"Por Capital",route:`${this.basePath}/by-capital`},{name:"Por Pa\xeds",route:`${this.basePath}/by-country`},{name:"Por Regi\xf3n",route:`${this.basePath}/by-region`}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-countries-main"]],decls:6,vars:2,consts:[[1,"row"],[1,"col-3"],[3,"title","paths"],[1,"col"],[1,"p-main-content"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-sidebar-nav",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._UZ(5,"router-outlet"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("title","Pa\xedses")("paths",o.paths))},dependencies:[l.lC,x.D],styles:[".p-main-content[_ngcontent-%COMP%]{margin-top:2rem;margin-right:6rem}"]}),n})();var S=i(2340),d=i(8505),C=i(262),y=i(9646),f=i(1566),U=i(7272),v=i(5698),P=i(4482),B=i(5403),J=i(5032),F=i(9718),N=i(5577),R=i(8421);function Z(n,a){return a?e=>(0,U.z)(a.pipe((0,v.q)(1),function O(){return(0,P.e)((n,a)=>{n.subscribe((0,B.x)(a,J.Z))})}()),e.pipe(Z(n))):(0,N.z)((e,o)=>(0,R.Xf)(n(e,o)).pipe((0,v.q)(1),(0,F.h)(e)))}var I=i(9751),Q=i(3532);var E=i(4004),L=i(3144);let p=(()=>{class n{constructor(e){this.httpClient=e,this.baseUrl=S.N.BASE_COUNTRY_URL,this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{term:"",countries:[]}},this.loadToLocalStorage()}loadToLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}searchCountry(e,o){return this.httpClient.get(`${this.baseUrl}/${o}/${e}`).pipe((0,d.b)(r=>{this.setCacheStore(o,e,r)}),(0,d.b)(()=>this.saveToLocalStorage()),(0,C.K)(()=>(0,y.of)([])),function Y(n,a=f.z){const e=function M(n=0,a,e=f.P){let o=-1;return null!=a&&((0,Q.K)(a)?e=a:o=a),new I.y(r=>{let c=function j(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){r.closed||(r.next(h++),0<=o?this.schedule(void 0,o):r.complete())},c)})}(n,a);return Z(()=>e)}(2e3))}setCacheStore(e,o,r){"capital"===e?this.cacheStore.byCapital={term:o,countries:r}:"name"===e?this.cacheStore.byCountries={term:o,countries:r}:"region"===e&&(this.cacheStore.byRegion={term:o,countries:r})}searchCountryByAlphaCode(e){return this.httpClient.get(`${this.baseUrl}/alpha/${e}`).pipe((0,E.U)(o=>o.length>0?o[0]:null),(0,C.K)(()=>(0,y.of)(null)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=i(3145),D=i(6564),b=i(8281),T=i(5823);function V(n,a){1&n&&(t.TgZ(0,"div",2),t._uU(1," No hay pa\xedses que mostrar\n"),t.qZA())}const $=function(n){return["/countries/main/by",n]};function q(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"app-image-card",5),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td")(13,"a",6),t._uU(14,"Ver mas..."),t.qZA()()()),2&n){const e=a.$implicit,o=a.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.Q6J("src",e.flags.svg)("className","a-img-card")("alt",e.name.common),t.xp6(2),t.hij(" ",e.name.common," "),t.xp6(2),t.hij(" ",e.capital," "),t.xp6(2),t.hij(" ",t.lcZ(11,8,e.population)," "),t.xp6(3),t.Q6J("routerLink",t.VKq(10,$,e.cca3))}}function z(n,a){if(1&n&&(t.TgZ(0,"table",3)(1,"caption"),t._uU(2),t.qZA(),t.TgZ(3,"thead")(4,"tr")(5,"th"),t._uU(6,"#"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Bandera"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Nombre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Capital"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Poblaci\xf3n"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Detalle"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,q,15,12,"tr",4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij("Table of list Countries by ",e.captionTable," "),t.xp6(16),t.Q6J("ngForOf",e.countries)}}let g=(()=>{class n{constructor(){this.countries=[],this.captionTable=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-table"]],inputs:{countries:"countries",captionTable:"captionTable"},decls:3,vars:2,consts:[["class","alert alert-warning",4,"ngIf","ngIfElse"],["table",""],[1,"alert","alert-warning"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","className","alt"],[3,"routerLink"]],template:function(e,o){if(1&e&&(t.YNc(0,V,2,0,"div",0),t.YNc(1,z,19,2,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",0===o.countries.length)("ngIfElse",r)}},dependencies:[s.sg,s.O5,l.rH,T.Y,s.JJ]}),n})();function X(n,a){1&n&&t._UZ(0,"app-loading-spinner")}let K=(()=>{class n{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue="",this.typeSearch="capital"}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(e){this.isLoading=!0,this.countriesService.searchCountry(e,this.typeSearch).subscribe(o=>{this.countries=o,this.isLoading=!1,console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-capital-page"]],decls:10,vars:6,consts:[[3,"textContent"],[1,"row"],[1,"col"],[3,"placeholder","inputValue","OnTextDebounceInput"],[4,"ngIf"],[3,"captionTable","countries"]],template:function(e,o){1&e&&(t._UZ(0,"app-h2",0)(1,"hr"),t.TgZ(2,"div",1)(3,"div",2)(4,"app-search-box-debounce",3),t.NdJ("OnTextDebounceInput",function(c){return o.searchByCapital(c)}),t.qZA()()(),t.TgZ(5,"div",1)(6,"div",2),t._UZ(7,"hr"),t.YNc(8,X,1,0,"app-loading-spinner",4),t._UZ(9,"app-country-table",5),t.qZA()()),2&e&&(t.Q6J("textContent","Por Capital"),t.xp6(4),t.Q6J("placeholder","Buscar Capital...")("inputValue",o.initialValue),t.xp6(4),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("captionTable","Capital")("countries",o.countries))},dependencies:[s.O5,u.O,D.g,b.r,g]}),n})(),W=(()=>{class n{constructor(e){this.countriesService=e,this.countries=[],this.initialValue="",this.typeSearch="name"}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(e){this.countriesService.searchCountry(e,this.typeSearch).subscribe(o=>{this.countries=o,console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-country-page"]],decls:9,vars:5,consts:[[3,"textContent"],[1,"row"],[1,"col"],[3,"placeholder","inputValue","OnTextDebounceInput"],[3,"captionTable","countries"]],template:function(e,o){1&e&&(t._UZ(0,"app-h2",0)(1,"hr"),t.TgZ(2,"div",1)(3,"div",2)(4,"app-search-box-debounce",3),t.NdJ("OnTextDebounceInput",function(c){return o.searchByCountry(c)}),t.qZA()()(),t.TgZ(5,"div",1)(6,"div",2),t._UZ(7,"hr")(8,"app-country-table",4),t.qZA()()),2&e&&(t.Q6J("textContent","Por Pa\xeds"),t.xp6(4),t.Q6J("placeholder","Buscar Pa\xeds...")("inputValue",o.initialValue),t.xp6(4),t.Q6J("captionTable","Pa\xeds")("countries",o.countries))},dependencies:[u.O,b.r,g]}),n})();var G=i(1221);const H=function(n,a){return{"btn-primary":n,"btn-outline-primary":a}};function w(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",6),t.NdJ("clicked",function(){const c=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.searchByRegion(c))}),t.qZA()}if(2&n){const e=a.$implicit,o=t.oxw();t.Q6J("textContent",e)("className","btn a-button__region")("ngClass",t.WLB(3,H,o.selectedRegion===e,o.selectedRegion!==e))}}let _=(()=>{class n{constructor(e){this.countriesService=e,this.countries=[],this.typeSearch="region",this.regions=["Africa","America","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.term}searchByRegion(e){this.selectedRegion=e,this.countriesService.searchCountry(e,this.typeSearch).subscribe(o=>{this.countries=o,console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-region-page"]],decls:9,vars:4,consts:[[3,"textContent"],[1,"row"],[1,"text-center"],[3,"textContent","className","ngClass","clicked",4,"ngFor","ngForOf"],[1,"col"],[3,"captionTable","countries"],[3,"textContent","className","ngClass","clicked"]],template:function(e,o){1&e&&(t._UZ(0,"app-h2",0)(1,"hr"),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,w,1,6,"app-button",3),t.qZA()(),t.TgZ(5,"div",1)(6,"div",4),t._UZ(7,"hr")(8,"app-country-table",5),t.qZA()()),2&e&&(t.Q6J("textContent","Por Regi\xf3n"),t.xp6(4),t.Q6J("ngForOf",o.regions),t.xp6(4),t.Q6J("captionTable","Regi\xf3n")("countries",o.countries))},dependencies:[s.mk,s.sg,G.r,u.O,g]}),n})();var k=i(3900),tt=i(3335);function et(n,a){1&n&&(t.TgZ(0,"div",2),t._uU(1," Espere por favor "),t.qZA())}function nt(n,a){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.common," ")}}function ot(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),t._uU(4,"Pa\xeds: "),t.TgZ(5,"strong"),t._uU(6),t.qZA()()(),t._UZ(7,"hr"),t.qZA(),t.TgZ(8,"div",3)(9,"div",5),t._UZ(10,"app-image-card",6),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"app-h3",8),t.TgZ(13,"ul",9)(14,"li",10)(15,"strong"),t._uU(16," Poblaci\xf3n: "),t.qZA(),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"li",10)(20,"strong"),t._uU(21," C\xf3digo: "),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"li",10)(24,"strong"),t._uU(25," Lenguajes: "),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"li",10)(28,"strong"),t._uU(29," Moneda: "),t.qZA(),t._uU(30),t.qZA()()()(),t.TgZ(31,"div",11)(32,"div",7),t._UZ(33,"app-h3",8),t.TgZ(34,"div",12),t.YNc(35,nt,2,1,"span",13),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",e.country.name.common," "),t.xp6(4),t.Q6J("src",e.country.flags.svg)("alt",e.country.name.common)("className","img-thumbnail"),t.xp6(2),t.Q6J("textContent","Informaci\xf3n"),t.xp6(5),t.hij(" ",t.lcZ(18,11,e.country.population)," "),t.xp6(5),t.hij(" ",e.country.cca3," "),t.xp6(4),t.hij(" ",e.languajes," "),t.xp6(4),t.hij(" ",e.currencies," "),t.xp6(3),t.Q6J("textContent","Traducciones"),t.xp6(2),t.Q6J("ngForOf",e.translations)}}const at=[{path:"main",component:A,children:[{path:"by-capital",component:K},{path:"by-country",component:W},{path:"by-region",component:_},{path:"by/:id",component:(()=>{class n{constructor(e,o,r){this.activatedRoute=e,this.countriesService=o,this.router=r,this.currencies=[]}ngOnInit(){this.activatedRoute.params.pipe((0,k.w)(({id:e})=>this.countriesService.searchCountryByAlphaCode(e))).subscribe(e=>{if(!e)return this.router.navigateByUrl("countries/main/by-capital");const o=Object.values(e.currencies);this.translations=Object.values(e.translations),this.languajes=Object.values(e.languages);for(let r=0;r<o.length;r++)console.log(o[r].name),this.currencies.push(o[r].name);return this.country=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(p),t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[3,"src","alt","className"],[1,"col"],[3,"textContent"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],["class","badge bg-primary m-1",4,"ngFor","ngForOf"],[1,"badge","bg-primary","m-1"]],template:function(e,o){if(1&e&&(t.YNc(0,et,2,0,"ng-template",null,0,t.W1O),t.YNc(2,ot,36,13,"div",1)),2&e){const r=t.MAs(1);t.xp6(2),t.Q6J("ngIf",o.country)("ngIfElse",r)}},dependencies:[s.sg,s.O5,tt.k,T.Y,s.JJ]}),n})()}]}];let it=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(at),l.Bz]}),n})();var rt=i(911),st=i(5472);let ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,it,st.c,rt._]}),n})()}}]);