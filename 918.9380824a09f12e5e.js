"use strict";(self.webpackChunkbases=self.webpackChunkbases||[]).push([[918],{2918:(B,c,n)=>{n.r(c),n.d(c,{GifsModule:()=>Z});var g=n(4755),f=n(8282),e=n(3020),p=n(3144),l=n(2340),m=n(4004);let h=(()=>{class s{constructor(t){this.httpClient=t,this.apiKey=l.N.GIFS_API_TOKEN}params(t){return(new p.LE).set("api_key",this.apiKey).set("q",t).set("limit","10")}getGifs(t){return this.httpClient.get(`${l.N.BASE_URL}/v1/gifs/search`,{params:this.params(t)}).pipe((0,m.U)(o=>o.data))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(p.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),r=(()=>{class s{constructor(t){this.httpGifsService=t,this._tagsHistory=[],this._gifs=[],this.loadGifsLocalStorage(),0!=this._tagsHistory.length&&this.searchTag(this._tagsHistory[0])}saveGifsLocalStorage(){localStorage.setItem("history",JSON.stringify(this._tagsHistory))}loadGifsLocalStorage(){localStorage.getItem("history")&&(this._tagsHistory=JSON.parse(localStorage.getItem("history")??""))}organizeHistory(t){t=t.toLowerCase(),this._tagsHistory.includes(t)&&(this._tagsHistory=this._tagsHistory.filter(o=>o!==t)),this._tagsHistory.unshift(t),this._tagsHistory=this._tagsHistory.splice(0,10),this.saveGifsLocalStorage()}get tagsHistory(){return[...this._tagsHistory]}get gifs(){return[...this._gifs]}searchTag(t){0!==t.length&&(this.organizeHistory(t),this.httpGifsService.getGifs(t).subscribe(o=>{this._gifs=o}))}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(h))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var u=n(8670);let d=(()=>{class s{constructor(t){this.gifsService=t}searchGifs(t){this.gifsService.searchTag(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-gifs-search-box"]],decls:1,vars:1,consts:[[3,"placeholder","OnTextInput"]],template:function(t,o){1&t&&(e.TgZ(0,"app-search-box",0),e.NdJ("OnTextInput",function(a){return o.searchGifs(a)}),e.qZA()),2&t&&e.Q6J("placeholder","Buscar gifs...")},dependencies:[u.B]}),s})();var G=n(3058);let v=(()=>{class s{constructor(t){this.gifsService=t}get gifs(){return this.gifsService.gifs}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-gifs-list"]],decls:1,vars:1,consts:[[3,"gifs"]],template:function(t,o){1&t&&e._UZ(0,"app-card-list",0),2&t&&e.Q6J("gifs",o.gifs)},dependencies:[G.D]}),s})(),y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-gifs-home-page"]],decls:5,vars:0,consts:[[1,"row","p-3"],[1,"col-12"],[1,"col-12","pt-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-gifs-search-box"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-gifs-list"),e.qZA()())},dependencies:[d,v]}),s})();var S=n(581);let C=(()=>{class s{constructor(t){this.gifsService=t}get getTags(){return this.gifsService.tagsHistory}showGifs(t){this.gifsService.searchTag(t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-gifs-sidebar"]],decls:1,vars:2,consts:[[3,"title","tags","tag"]],template:function(t,o){1&t&&(e.TgZ(0,"app-sidebar",0),e.NdJ("tag",function(a){return o.showGifs(a)}),e.qZA()),2&t&&e.Q6J("title","Gifs App")("tags",o.getTags)},dependencies:[S.k]}),s})();const H=[{path:"main",component:(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-main-gifs"]],decls:3,vars:0,consts:[[1,"d-flex"],[1,"flex-fill"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-gifs-sidebar")(2,"app-gifs-home-page",1),e.qZA())},dependencies:[y,C]}),s})()}];let T=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[f.Bz.forChild(H),f.Bz]}),s})();var x=n(911);let Z=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[g.ez,T,x._]}),s})()}}]);